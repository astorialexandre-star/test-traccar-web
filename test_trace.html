<!DOCTYPE html>
<html>
<head>
    <title>Tracé Corrigé - Megève Gollet</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { width: 100%; height: 100vh; }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    // Initialisation centrée sur la zone du Gollet
    var map = L.map('map').setView([45.8590, 6.6270], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap'
    }).addTo(map);

    var traceData = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": { "name": "Tracé Nettoyé" },
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                        [6.629326, 45.859214], [6.629361, 45.859131], [6.629361, 45.85896],
                        [6.629251, 45.858839], [6.629184, 45.858816], [6.628998, 45.858751],
                        [6.628824, 45.858675], [6.628363, 45.858477], [6.628171, 45.858394],
                        [6.627669, 45.858292], [6.627352, 45.858202], [6.627147, 45.858082],
                        [6.627028, 45.858051], [6.626939, 45.858043], [6.626851, 45.858052],
                        [6.626796, 45.858075], [6.626743, 45.858112], [6.626713, 45.858168],
                        [6.626725, 45.85822], [6.62677, 45.858277], [6.626961, 45.858407],
                        [6.627442, 45.858813], [6.627697, 45.858945], [6.627949, 45.859008],
                        [6.628044, 45.859068], [6.628076, 45.859149], [6.628035, 45.859235],
                        [6.62788, 45.859297], [6.627371, 45.859187], [6.627057, 45.859111],
                        [6.626798, 45.858962], [6.626496, 45.858657], [6.626336, 45.858609],
                        [6.626152, 45.85865], [6.626102, 45.858762], [6.626219, 45.85894],
                        [6.62662, 45.859358], [6.626927, 45.859731], [6.627283, 45.860007],
                        [6.627427, 45.86067], [6.627445, 45.860873] 
                        // Les points finaux erronés ont été supprimés ici
                    ]
                }
            }
        ]
    };

    var geojsonLayer = L.geoJSON(traceData, {
        style: {
            color: "#E64A19", 
            weight: 6,
            opacity: 0.9,
            lineJoin: 'round'
        }
    }).addTo(map);

    map.fitBounds(geojsonLayer.getBounds());
</script>
</body>
</html>
