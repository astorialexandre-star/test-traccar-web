<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracé Haute Précision - gpx.studio</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; width: 100%; }
        
        .info-panel {
            position: absolute;
            top: 20px;
            left: 50px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border-left: 5px solid #2a9d8f;
        }
    </style>
</head>
<body>

<div class="info-panel">
    <strong style="color: #264653;">Itinéraire : Nouveau fichier 2</strong><br>
    <span style="font-size: 0.9em; color: #666;">Précision maximale (122 points)</span>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // 1. Initialisation de la carte
    const map = L.map('map');

    // 2. Fond de carte (OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // 3. Données GeoJSON (Conversion directe de votre GPX)
    const gpxData = {
        "type": "FeatureCollection",
        "features": [{
            "type": "Feature",
            "properties": {},
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [6.629326, 45.859214], [6.629361, 45.859131], [6.629361, 45.85896], [6.629251, 45.858839], [6.629184, 45.858816], 
                    [6.628998, 45.858751], [6.628824, 45.858675], [6.628545, 45.858555], [6.628365, 45.858477], [6.628171, 45.858394], 
                    [6.628143, 45.858382], [6.627669, 45.858292], [6.627536, 45.858268], [6.627352, 45.858202], [6.627147, 45.858082], 
                    [6.627028, 45.858051], [6.626939, 45.858043], [6.626851, 45.858052], [6.626796, 45.858075], [6.626743, 45.858112], 
                    [6.626713, 45.858168], [6.626725, 45.85822], [6.62677, 45.858277], [6.626961, 45.858407], [6.626998, 45.858433], 
                    [6.627442, 45.858813], [6.627513, 45.858861], [6.627573, 45.858896], [6.627697, 45.858945], [6.627827, 45.858982], 
                    [6.627949, 45.859008], [6.628009, 45.859039], [6.628044, 45.859068], [6.628066, 45.859108], [6.628076, 45.859149], 
                    [6.628074, 45.859152], [6.628035, 45.859235], [6.627986, 45.859267], [6.627934, 45.859283], [6.62788, 45.859297], 
                    [6.627808, 45.859294], [6.627371, 45.859187], [6.627057, 45.859111], [6.626902, 45.859036], [6.626798, 45.858962], 
                    [6.626693, 45.858855], [6.626496, 45.858657], [6.626424, 45.858621], [6.626336, 45.858609], [6.626322, 45.858608], 
                    [6.626227, 45.858615], [6.626152, 45.85865], [6.626108, 45.8587], [6.626102, 45.858762], [6.626123, 45.85881], 
                    [6.626137, 45.858833], [6.626164, 45.858875], [6.626219, 45.85894], [6.626358, 45.859078], [6.62662, 45.859358], 
                    [6.626829, 45.859613], [6.626927, 45.859731], [6.627009, 45.859796], [6.627283, 45.860007], [6.627337, 45.860256], 
                    [6.627427, 45.86067], [6.627445, 45.86083], [6.627445, 45.860873], [6.627465, 45.86089], [6.627471, 45.860895], 
                    [6.627465, 45.86089], [6.627445, 45.860873], [6.627352, 45.860803], [6.626798, 45.860389], [6.626631, 45.860302], 
                    [6.626227, 45.860222], [6.626033, 45.860099], [6.625654, 45.859763], [6.625538, 45.859661], [6.625215, 45.859434], 
                    [6.62504, 45.859337], [6.624866, 45.859245], [6.624682, 45.859127], [6.624494, 45.858983], [6.624215, 45.858771], 
                    [6.624165, 45.858731], [6.624058, 45.858646], [6.623796, 45.858479], [6.623792, 45.858476], [6.623061, 45.858267], 
                    [6.62257, 45.858077], [6.622367, 45.857997], [6.621847, 45.857797], [6.621083, 45.857636], [6.621008, 45.857621], 
                    [6.620983, 45.857616], [6.620937, 45.857606], [6.620891623231004, 45.857596135485], [6.620891, 45.857596], 
                    [6.620882, 45.857618], [6.620862, 45.857636], [6.620833, 45.857647], [6.62081, 45.857648], [6.620786, 45.85765], 
                    [6.620749, 45.857631], [6.620743, 45.857629], [6.620727, 45.857609], [6.620724, 45.857587], [6.620733, 45.857565], 
                    [6.620753, 45.857547], [6.620753, 45.857547], [6.62073, 45.85752], [6.620631, 45.857486], [6.62073, 45.85752], 
                    [6.620753, 45.857547], [6.620782, 45.857536], [6.620814, 45.857533], [6.620846, 45.857539], [6.620868, 45.85755], 
                    [6.620866, 45.85755], [6.620872, 45.857553], [6.620888, 45.857573], [6.620891, 45.857596]
                ]
            }
        }]
    };

    // 4. Style et affichage du tracé
    const routeStyle = {
        color: "#d00000",   // Rouge profond pour une meilleure visibilité
        weight: 5,          // Épaisseur
        opacity: 0.85,      // Opacité
        lineJoin: 'round'   // Arrondi pour les virages précis
    };

    const routeLayer = L.geoJSON(gpxData, { style: routeStyle }).addTo(map);

    // 5. Ajustement automatique du zoom
    map.fitBounds(routeLayer.getBounds(), { padding: [40, 40] });

</script>

</body>
</html>
