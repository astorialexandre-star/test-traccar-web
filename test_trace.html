<!DOCTYPE html>
<html>
<head>
    <title>Page Test - Tracé GeoJSON Megève</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { width: 100%; height: 100vh; }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    // Initialisation de la carte
    var map = L.map('map').setView([45.85746, 6.62055], 14);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap'
    }).addTo(map);

    // Données GPX converties en GeoJSON
    var traceGeoJSON = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "name": "gpxswk-260115-201929",
                    "time": "2026-01-15T19:24:05.969Z"
                },
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                        [6.620549, 45.857462], [6.620586, 45.857471], [6.62073, 45.85752],
                        [6.620753, 45.857547], [6.62076, 45.857544], [6.620782, 45.857536],
                        [6.620814, 45.857533], [6.620846, 45.857539], [6.620872, 45.857553],
                        [6.620888, 45.857573], [6.620891, 45.857596], [6.620913, 45.8576],
                        [6.620937, 45.857606], [6.620983, 45.857616], [6.621083, 45.857636],
                        [6.621096, 45.857638], [6.621329, 45.857687], [6.621647, 45.857755],
                        [6.621847, 45.857797], [6.622367, 45.857997], [6.62257, 45.858077],
                        [6.62259, 45.858085], [6.623061, 45.858267], [6.623536, 45.858402],
                        [6.623792, 45.858476], [6.624058, 45.858646], [6.624161, 45.858727],
                        [6.624165, 45.858731], [6.624215, 45.858771], [6.624682, 45.859127],
                        [6.624866, 45.859245], [6.62504, 45.859337], [6.625215, 45.859434],
                        [6.625538, 45.859661], [6.625775, 45.85987], [6.626033, 45.860099],
                        [6.626277, 45.860222], [6.626631, 45.860302], [6.626798, 45.860389],
                        [6.627352, 45.860803], [6.627445, 45.860873], [6.627445, 45.86083],
                        [6.627427, 45.86067], [6.627396, 45.860531], [6.627283, 45.860007],
                        [6.627009, 45.859796], [6.626927, 45.859731], [6.626829, 45.859613],
                        [6.62662, 45.859358], [6.626358, 45.859078], [6.626219, 45.85894],
                        [6.626164, 45.858875], [6.626123, 45.85881], [6.626102, 45.858762],
                        [6.626108, 45.8587], [6.626152, 45.85865], [6.626227, 45.858615],
                        [6.626322, 45.858608], [6.626424, 45.858621], [6.626496, 45.858657],
                        [6.626798, 45.858962], [6.626902, 45.859036], [6.627057, 45.859111],
                        [6.627808, 45.859294], [6.62788, 45.859297], [6.627934, 45.859283],
                        [6.627986, 45.859267], [6.628035, 45.859235], [6.628076, 45.859149],
                        [6.628066, 45.859108], [6.628044, 45.859068], [6.628009, 45.859039],
                        [6.627949, 45.859008], [6.627827, 45.858982], [6.627697, 45.858945],
                        [6.627599, 45.858906], [6.627573, 45.858896], [6.627513, 45.858861],
                        [6.627442, 45.858813], [6.626998, 45.858433], [6.626954, 45.858403],
                        [6.62677, 45.858277], [6.626725, 45.85822], [6.626713, 45.858168],
                        [6.626743, 45.858112], [6.626796, 45.858075], [6.626851, 45.858052],
                        [6.626939, 45.858043], [6.627028, 45.858051], [6.627147, 45.858082],
                        [6.627352, 45.858202], [6.627536, 45.858268], [6.628143, 45.858382],
                        [6.628998, 45.858751], [6.629251, 45.858839], [6.629361, 45.85896],
                        [6.629361, 45.859131], [6.629322, 45.859224], [6.627503, 45.860919],
                        [6.627603, 45.860995], [6.628006, 45.861303], [6.628167, 45.861425],
                        [6.628573, 45.861693], [6.628876, 45.861872], [6.629086, 45.862104],
                        [6.629135, 45.862177], [6.629224, 45.862311], [6.629357, 45.862691],
                        [6.629489, 45.862843], [6.630057, 45.863287], [6.630096, 45.863317],
                        [6.630294, 45.863472], [6.630366, 45.863529], [6.630454, 45.863598],
                        [6.630707, 45.86374], [6.631167, 45.863997], [6.632007, 45.864925],
                        [6.632996, 45.865774], [6.633193, 45.86585], [6.633315, 45.865882],
                        [6.633417, 45.865885], [6.633508, 45.865865], [6.633619, 45.865824],
                        [6.63367, 45.865777], [6.633691, 45.865723], [6.633695, 45.86567],
                        [6.633665, 45.865619], [6.633419, 45.865441], [6.633129, 45.865287],
                        [6.63305, 45.865187], [6.632824, 45.864946], [6.632655, 45.864446],
                        [6.632423, 45.864232], [6.632097, 45.863988], [6.632035, 45.863794],
                        [6.631984, 45.863481], [6.631942, 45.863378], [6.631892, 45.863299],
                        [6.631761, 45.863175], [6.63149, 45.862944], [6.631347, 45.862808],
                        [6.631248, 45.862714], [6.631186, 45.862623], [6.631162, 45.862476],
                        [6.63116, 45.862243], [6.631118, 45.862054], [6.631004, 45.861814],
                        [6.630919, 45.861662], [6.630797, 45.861449], [6.63076, 45.861384],
                        [6.630719, 45.861314], [6.630457, 45.861112], [6.630162, 45.860897],
                        [6.630052, 45.860795], [6.630018, 45.860694], [6.630036, 45.860592],
                        [6.630082, 45.860479], [6.630155, 45.860388], [6.630312, 45.860228],
                        [6.630523, 45.860035], [6.630564, 45.859997], [6.630643, 45.859925],
                        [6.630707, 45.859858], [6.631201, 45.859335], [6.631241, 45.859274],
                        [6.631276, 45.859196], [6.631293, 45.85906], [6.631279, 45.858974],
                        [6.631207, 45.858713], [6.631144, 45.85835], [6.631117, 45.858075],
                        [6.631102, 45.857929], [6.631107, 45.857591], [6.631152, 45.857263],
                        [6.631217, 45.856928], [6.631228, 45.85685], [6.63128, 45.856501],
                        [6.631305, 45.856342], [6.63138, 45.855791], [6.631425, 45.85531],
                        [6.631444, 45.855072], [6.631495, 45.85471], [6.631508, 45.854576],
                        [6.631511, 45.85454], [6.63154, 45.854219], [6.631549, 45.854163],
                        [6.631716, 45.854175]
                    ]
                }
            }
        ]
    };

    // Ajout du tracé à la carte
    var geojsonLayer = L.geoJSON(traceGeoJSON, {
        style: {
            color: "#ff3300",
            weight: 5,
            opacity: 0.85
        }
    }).addTo(map);

    // Ajustement automatique de la vue
    map.fitBounds(geojsonLayer.getBounds());
</script>
</body>
</html>
