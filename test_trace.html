<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracé Nettoyé - Route du Gollet</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; width: 100%; }
        .label-box {
            position: absolute; top: 10px; left: 50px; z-index: 1000;
            background: rgba(255, 255, 255, 0.9); padding: 10px;
            border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>

<div class="label-box">
    <strong>Route du Gollet</strong><br>
    Tracé unique et nettoyé
</div>

<div id="map"></div>

<script>
    const map = L.map('map');

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap'
    }).addTo(map);

    // Données filtrées pour supprimer les sauts incohérents visibles sur l'image
    const cleanTrace = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "name": "Tracé fusionné"
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [6.620567325613052, 45.85746553759864],
          [6.620639212860283, 45.85748771841463],
          [6.620688737718808, 45.8575044966193],
          [6.620725274350491, 45.85752006228162],
          [6.620738876831751, 45.85753044820498],
          [6.620755847077902, 45.85754306211271],
          [6.620775252585929, 45.85753773205013],
          [6.62079111908767, 45.85753534812338],
          [6.620806414069762, 45.85753499805193],
          [6.620820978455981, 45.857536486244754],
          [6.620833698719792, 45.857538443570405],
          [6.6208494512519565, 45.85754230483093],
          [6.620862629065755, 45.857548473488265],
          [6.620874159143, 45.85755580883492],
          [6.620885335026145, 45.85757373670532],
          [6.620888626416985, 45.85758690549619],
          [6.620889849829581, 45.85759753161224],
          [6.620884071890686, 45.857607302843945],
          [6.62087322064184, 45.85762613669132],
          [6.620856425118831, 45.857637412396485],
          [6.620839097426455, 45.85764347284146],
          [6.620823661003811, 45.85764775384391],
          [6.620810078540131, 45.85764975343733],
          [6.620794025492273, 45.85764962752552],
          [6.620781267917778, 45.85764716823718],
          [6.620768997408192, 45.85764348344111],
          [6.62075782279075, 45.857637041252985],
          [6.620747744065483, 45.857627841671416],
          [6.620739191312481, 45.85761778177684],
          [6.620733203439045, 45.8576072267644],
          [6.620727959581586, 45.85758824000601],
          [6.6207312296256475, 45.857575841295386],
          [6.620737907074101, 45.85756261510468],
          [6.620742121732121, 45.857553202210596],
          [6.620755176806057, 45.85754337908182],
          /* Jonction avec le second segment */
          [6.620887799554623, 45.85760130745152],
          [6.621019051282673, 45.8576223810409],
          [6.6211886212060165, 45.85765549197782],
          [6.621325783657568, 45.85768577810833],
          [6.621432607517846, 45.857707216202016],
          [6.621562321234023, 45.8577361198262],
          [6.621685557866357, 45.857759030628955],
          [6.6217982288653445, 45.85778081461706],
          [6.6218619565919425, 45.85780070969068],
          [6.621965895416423, 45.857843153971544],
          [6.622077988404669, 45.85788645444728],
          [6.622202730127469, 45.85793459999786],
          [6.622281284641247, 45.857964540616564],
          [6.622410893345432, 45.85801463143733],
          [6.622521190858919, 45.85805787852513],
          [6.622733215122963, 45.858138989860294],
          [6.622901863585241, 45.85820525246186],
          [6.623033563080014, 45.85825727570955],
          [6.623120875985165, 45.858284221868246],
          [6.623240870223043, 45.85831834548088],
          [6.623350714734158, 45.858350512525675],
          [6.623585168010521, 45.85841702336194],
          [6.623777917581691, 45.85846866558262],
          [6.623831324277631, 45.85849925444859],
          [6.62390598687287, 45.8585466243417],
          [6.624039606759595, 45.85863360223084]
        ]
      }
    }
  ]
};

    const layer = L.geoJSON(cleanTrace, {
        style: { color: "#007bff", weight: 6, opacity: 0.7, lineJoin: 'round' }
    }).addTo(map);

    map.fitBounds(layer.getBounds(), { padding: [20, 20] });
</script>

</body>
</html>
